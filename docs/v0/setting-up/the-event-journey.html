<!DOCTYPE html>
<html lang="en">
	<head>
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-N3BJXPVFTJ"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-N3BJXPVFTJ');
		</script>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../favicon.png" />
		<link href="https://cdn.jsdelivr.net/npm/@exuanbo/file-icons-js@latest/dist/css/file-icons.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;0,1000;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900;1,1000&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="../../../reset.css"/>
		<link rel="stylesheet" href="../../../styles.css"/>
		<link rel="stylesheet" href="../../../md.css"/>
		<meta name="viewport" content="width=device-width" />
		
		
		<link href="../../../_app/immutable/assets/3.b6a82402.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.8333e1f3.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/scheduler.a320a24a.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/singletons.559f42cf.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.2656ab21.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.0121a3a8.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.91d8795d.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/3.adf9e291.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/globals.7f7f1b26.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/stores.0b4c15e7.js"><title>The journey of event</title><!-- HEAD_svelte-1aer03j_START --><meta name="description" content="The journey of the event object in sveltekit"><!-- HEAD_svelte-1aer03j_END -->

		<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js" integrity="sha512-8RnEqURPUc5aqFEN04aQEiPlSAdE0jlFS/9iGgUyNtwFnSKCXhmB6ZTNl7LnDtDWKabJIASzXrzD0K+LYexU9g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.min.js" integrity="sha512-I6CdJdruzGtvDyvdO4YsiAq+pkWf2efgd1ZUSK2FnM/u2VuRASPC7GowWQrWyjxCZn6CT89s3ddGI+be0Ak9Fg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	</head>
	<body data-sveltekit-preload-data="hover" >
		<div style="display: contents">    <div class="nav svelte-19bgpzw"><a href="/" class="svelte-19bgpzw"><div class="logo svelte-19bgpzw" data-svelte-h="svelte-qrr8bd"><div class="i-logos"><div class="i-logo fade-svelte svelte-19bgpzw"><img src="/svelte-logo.svg" alt="svelte logo" class="svelte svelte-19bgpzw"> <div class="i-letter fade-svelte svelte-19bgpzw">S</div></div> <div class="i-logo fade-hello not-first svelte-19bgpzw"><img src="/waving-logo.svg" alt="waving logo" class="svelte-19bgpzw"> <div class="i-letter fade-hello not-first svelte-19bgpzw">H</div></div> <div class="i-logo fade-trpc not-first svelte-19bgpzw"><img src="/trpc-logo.svg" alt="trpc logo" class="svelte-19bgpzw"> <div class="i-letter fade-trpc not-first svelte-19bgpzw">T</div></div> <div class="i-logo fade-zod not-first svelte-19bgpzw"><img src="/zod-logo.svg" alt="zod logo" class="zod svelte-19bgpzw"> <div class="i-letter fade-zod not-first svelte-19bgpzw">Z</div></div></div></div></a> <div class="theme svelte-19bgpzw"><button class="themeButton svelte-19bgpzw"></button></div> </div>  <div class="container svelte-1jhg73g"><div class="column nav svelte-1jhg73g">  <div class="dir svelte-mgzkzm first"><a href="/docs/v0/premise" class="name svelte-mgzkzm"><span>Premise</span></a>  </div>  <div class="dir svelte-mgzkzm first"><a href="/docs/v0/install" class="name svelte-mgzkzm"><span>Install</span></a>  </div>  <div class="dir svelte-mgzkzm first"><a href="/docs/v0/setting-up" class="name svelte-mgzkzm"><span>Setting up</span></a> <div class="childDir svelte-mgzkzm">  <div class="dir svelte-mgzkzm"><span class="name current svelte-mgzkzm">1. The event journey</span>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/setting-up/init.ts" class="name svelte-mgzkzm"><span>2. Init.ts</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/setting-up/routes" class="name svelte-mgzkzm"><span>3. Routes</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/setting-up/hooks.ts" class="name svelte-mgzkzm"><span>4. Hooks.ts</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/setting-up/browserClient.ts" class="name svelte-mgzkzm"><span>5. BrowserClient.ts</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/setting-up/test" class="name svelte-mgzkzm"><span>6. Test</span></a>  </div>  </div> </div>  <div class="dir svelte-mgzkzm first"><a href="/docs/v0/clients" class="name svelte-mgzkzm"><span>Clients</span></a> <div class="childDir svelte-mgzkzm">  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/browser-client" class="name svelte-mgzkzm"><span>1. Browser client</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/load-client" class="name svelte-mgzkzm"><span>2. Load client</span></a> <div class="childDir svelte-mgzkzm">  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/load-client/handle-fetch" class="name svelte-mgzkzm"><span>1. Handle fetch</span></a>  </div>  </div> </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/server-client" class="name svelte-mgzkzm"><span>3. Server client</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/store-client" class="name svelte-mgzkzm"><span>4. Store client</span></a> <div class="childDir svelte-mgzkzm">  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/store-client/$once" class="name svelte-mgzkzm"><span>1. $once</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/store-client/$many" class="name svelte-mgzkzm"><span>2. $many</span></a>  </div>  <div class="dir svelte-mgzkzm"><a href="/docs/v0/clients/store-client/$multiple" class="name svelte-mgzkzm"><span>3. $multiple</span></a>  </div>  </div> </div>  </div> </div> <div class="links svelte-mgzkzm" data-svelte-h="svelte-veaqx0"><a href="https://github.com/sveltering/shtz" target="_blank" class="svelte-mgzkzm"><i class="icon github-icon svelte-1bevz0d"></i>Github</a> <a href="https://www.npmjs.com/package/@sveltering/shtz" target="_blank" class="svelte-mgzkzm"><i class="icon npm-icon svelte-1bevz0d"></i>npm</a></div></div> <div class="content column svelte-1jhg73g"><div class="md markdown-body svelte-1jhg73g max100" id="split-1"><!-- HTML_TAG_START --><h1 id="the-journey-of-event-in-sveltekit">The journey of <code>event</code> in SvelteKit</h1>
<p>Sure, you don't need to know this stuff, but it sure as hell helps to! <br>To really understand what's going on, let's go under the hood.</p>
<h2 id="taking-a-trip-down-event-avenue">Taking a trip down event avenue</h2>
<ul>
<li><p>User arrives to website <br>The user's browser make's a request to your SvelteKit server.<br>In this request are details such as the url being requested, headers and cookies</p>
</li>
<li><p><a href="https://kit.svelte.dev/docs/hooks#server-hooks"><code>hooks.server.ts</code></a> <br><code>hooks.server.ts</code> is an optional file where we can extend on the usual behvaiour of our SvelteKit application. <br>The first place we can look at this request is within a <code>handle</code> function in the <code>hooks.server.ts</code> file <br>Here, we can also manipulate the request, redirect the user, add response headers, throw an error, provide an alternative response etc. <br>Example from SvelteKit website. Anyone requesting <code>/custom</code> will recieve an alternate response of <code>"custom response"</code>, otherwise continue with SvelteKit's normal behaviour</p>
<pre><code class="language-ts">/** @type {import('@sveltejs/kit').Handle} */
  export async function handle({ event, resolve }) {
      if (event.url.pathname.startsWith('/custom')) {
          return new Response('custom response');
      }
      const response = await resolve(event);
      return response;
  }
</code></pre>
</li>
<li><p>Locals <br>Before the request is handed off to any <code>+server.js/ts</code> files, we can add information unique and relevent to this specific request/event using locals. <br>Another example from the SvelteKit website, where we attach user information to the locals object.</p>
<pre><code class="language-ts">  /** @type {import('@sveltejs/kit').Handle} */
  export async function handle({ event, resolve }) {
      event.locals.user = await getUserInformation(event.cookies.get('sessionid'));
      const response = await resolve(event);
      return response;
  }
</code></pre>
</li>
<li><p><code>+server.js</code>, <code>+layout.server.js</code>, <code>+page.server.js</code>
The last place our event reaches if our <code>+server.js/ts</code> files. <br>Here is where you would usually act upon the information given and or return information to the user. <br>Continuing on from our last example </p>
<pre><code class="language-ts">  export async function load({ locals }) {
      return {
          posts: await getUserPosts(locals.user)
      };
  }
</code></pre>
</li>
</ul>
<h2 id="adding-a-little-flavour-with-some-trpc-seasoning">Adding a little flavour with some tRPC seasoning</h2>
<p>Don't focus on the boilerplate and implementations, there's more on this later. For now, let's grasp the journery of the <code>event</code> object. </p>
<ul>
<li><p>When setting up our TRPC object we have a few options to help us set up a hook to intercept requests to our trpc endpoints. <br>The <code>path</code> option is optional with the default value being <code>/trpc</code>. This is the path you can choose to intercept all requests to trpc endpoints. <br>The <code>context</code> function allows you to provide context which will be passed on to all middleware and endpoints. In this example we return the user.</p>
<pre><code class="language-ts">export const t = new TRPC({
    path: '/trpc',
    context: async function(event){
        return {
            user: await getUserInformation(event.cookies.get('sessionid'))
        }
    }
});
</code></pre>
</li>
<li><p>First we need to see if the user is making a request to one of or trpc endpoints <br>In the example below we intercept the event object with the <code>handleHook</code> method. <br><code>handleHook</code> is one of the features of SHTZ, which takes care of intercepting all <code>/trpc</code> requests.</p>
<pre><code class="language-ts">  export async function handle({ event, resolve }) {
      const TRPCResponse = await handleHook(event);
      if (TRPCResponse) {
          return TRPCResponse;
      }

      const response = await resolve(event);
      return response;
  }  
</code></pre>
</li>
<li><p>Accessing the context <br>In this router the endpoint <code>welcomeUser</code> gets the user provided from the context funtion returns a welcome message of the user's name.</p>
<pre><code class="language-ts">  export default t.router({
      welcomeUser: t.procedure.query(function ({ ctx }) {
          return `Welcome ${ctx.user.name}`;
      })
  });
</code></pre>
</li>
</ul>
<!-- HTML_TAG_END --> <div class="end-links svelte-1g34mqm"><div class="end-link previous svelte-1g34mqm first"><a href="/docs/v0/setting-up" class="svelte-1g34mqm"><span class="svelte-1g34mqm" data-svelte-h="svelte-qh4n5b">Previous</span> Setting up</a></div> <div class="end-link next svelte-1g34mqm"><a href="/docs/v0/setting-up/init.ts" class="svelte-1g34mqm"><span class="svelte-1g34mqm" data-svelte-h="svelte-1pet1fv">Next</span> Init.ts</a></div> </div></div> </div> </div> 
			
			<script>
				{
					__sveltekit_1wzmu55 = {
						base: new URL("../../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":null,"uses":{}},{"type":"data","data":(function(a){a.path="/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/01-the-event-journey";a.paths={};a.codeFiles=void 0;a.title="The event journey";a.slug="the-event-journey";a.url="/setting-up/the-event-journey";a.isFirst=false;a.prevPath={};a.nextPath={slug:"init.ts",title:"Init.ts"};a.files={"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/01-the-event-journey/README.md"};return {content:"\u003Ch1 id=\"the-journey-of-event-in-sveltekit\">The journey of \u003Ccode>event\u003C/code> in SvelteKit\u003C/h1>\n\u003Cp>Sure, you don't need to know this stuff, but it sure as hell helps to! \u003Cbr>To really understand what's going on, let's go under the hood.\u003C/p>\n\u003Ch2 id=\"taking-a-trip-down-event-avenue\">Taking a trip down event avenue\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cp>User arrives to website \u003Cbr>The user's browser make's a request to your SvelteKit server.\u003Cbr>In this request are details such as the url being requested, headers and cookies\u003C/p>\n\u003C/li>\n\u003Cli>\u003Cp>\u003Ca href=\"https://kit.svelte.dev/docs/hooks#server-hooks\">\u003Ccode>hooks.server.ts\u003C/code>\u003C/a> \u003Cbr>\u003Ccode>hooks.server.ts\u003C/code> is an optional file where we can extend on the usual behvaiour of our SvelteKit application. \u003Cbr>The first place we can look at this request is within a \u003Ccode>handle\u003C/code> function in the \u003Ccode>hooks.server.ts\u003C/code> file \u003Cbr>Here, we can also manipulate the request, redirect the user, add response headers, throw an error, provide an alternative response etc. \u003Cbr>Example from SvelteKit website. Anyone requesting \u003Ccode>/custom\u003C/code> will recieve an alternate response of \u003Ccode>\"custom response\"\u003C/code>, otherwise continue with SvelteKit's normal behaviour\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-ts\">/** @type {import('@sveltejs/kit').Handle} */\n  export async function handle({ event, resolve }) {\n      if (event.url.pathname.startsWith('/custom')) {\n          return new Response('custom response');\n      }\n      const response = await resolve(event);\n      return response;\n  }\n\u003C/code>\u003C/pre>\n\u003C/li>\n\u003Cli>\u003Cp>Locals \u003Cbr>Before the request is handed off to any \u003Ccode>+server.js/ts\u003C/code> files, we can add information unique and relevent to this specific request/event using locals. \u003Cbr>Another example from the SvelteKit website, where we attach user information to the locals object.\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-ts\">  /** @type {import('@sveltejs/kit').Handle} */\n  export async function handle({ event, resolve }) {\n      event.locals.user = await getUserInformation(event.cookies.get('sessionid'));\n      const response = await resolve(event);\n      return response;\n  }\n\u003C/code>\u003C/pre>\n\u003C/li>\n\u003Cli>\u003Cp>\u003Ccode>+server.js\u003C/code>, \u003Ccode>+layout.server.js\u003C/code>, \u003Ccode>+page.server.js\u003C/code>\nThe last place our event reaches if our \u003Ccode>+server.js/ts\u003C/code> files. \u003Cbr>Here is where you would usually act upon the information given and or return information to the user. \u003Cbr>Continuing on from our last example \u003C/p>\n\u003Cpre>\u003Ccode class=\"language-ts\">  export async function load({ locals }) {\n      return {\n          posts: await getUserPosts(locals.user)\n      };\n  }\n\u003C/code>\u003C/pre>\n\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"adding-a-little-flavour-with-some-trpc-seasoning\">Adding a little flavour with some tRPC seasoning\u003C/h2>\n\u003Cp>Don't focus on the boilerplate and implementations, there's more on this later. For now, let's grasp the journery of the \u003Ccode>event\u003C/code> object. \u003C/p>\n\u003Cul>\n\u003Cli>\u003Cp>When setting up our TRPC object we have a few options to help us set up a hook to intercept requests to our trpc endpoints. \u003Cbr>The \u003Ccode>path\u003C/code> option is optional with the default value being \u003Ccode>/trpc\u003C/code>. This is the path you can choose to intercept all requests to trpc endpoints. \u003Cbr>The \u003Ccode>context\u003C/code> function allows you to provide context which will be passed on to all middleware and endpoints. In this example we return the user.\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-ts\">export const t = new TRPC({\n    path: '/trpc',\n    context: async function(event){\n        return {\n            user: await getUserInformation(event.cookies.get('sessionid'))\n        }\n    }\n});\n\u003C/code>\u003C/pre>\n\u003C/li>\n\u003Cli>\u003Cp>First we need to see if the user is making a request to one of or trpc endpoints \u003Cbr>In the example below we intercept the event object with the \u003Ccode>handleHook\u003C/code> method. \u003Cbr>\u003Ccode>handleHook\u003C/code> is one of the features of SHTZ, which takes care of intercepting all \u003Ccode>/trpc\u003C/code> requests.\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-ts\">  export async function handle({ event, resolve }) {\n      const TRPCResponse = await handleHook(event);\n      if (TRPCResponse) {\n          return TRPCResponse;\n      }\n\n      const response = await resolve(event);\n      return response;\n  }  \n\u003C/code>\u003C/pre>\n\u003C/li>\n\u003Cli>\u003Cp>Accessing the context \u003Cbr>In this router the endpoint \u003Ccode>welcomeUser\u003C/code> gets the user provided from the context funtion returns a welcome message of the user's name.\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-ts\">  export default t.router({\n      welcomeUser: t.procedure.query(function ({ ctx }) {\n          return `Welcome ${ctx.user.name}`;\n      })\n  });\n\u003C/code>\u003C/pre>\n\u003C/li>\n\u003C/ul>\n",allPaths:{paths:{premise:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/01-premise",paths:{},codeFiles:void 0,title:"Premise",slug:"premise",url:"/premise",isFirst:true,prevPath:{},nextPath:{slug:"install",title:"Install"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/01-premise/README.md"}},install:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-install",paths:{},codeFiles:void 0,title:"Install",slug:"install",url:"/install",isFirst:true,prevPath:{slug:"premise",title:"Premise"},nextPath:{slug:"setting-up",title:"Setting up"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-install/README.md"}},"setting-up":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up",paths:{"the-event-journey":a,"init.ts":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/02-init.ts",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:""}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:""},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:""},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    // Path is optional with the default value being /trpc \n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:""}]}],title:"Init.ts",slug:"init.ts",url:"/setting-up/init.ts",isFirst:false,prevPath:{slug:"the-event-journey",title:"The event journey"},nextPath:{slug:"routes",title:"Routes"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/02-init.ts/README.md"}},routes:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/03-routes",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:""},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:""},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:""}]}],title:"Routes",slug:"routes",url:"/setting-up/routes",isFirst:false,prevPath:{slug:"init.ts",title:"Init.ts"},nextPath:{slug:"hooks.ts",title:"Hooks.ts"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/03-routes/README.md"}},"hooks.ts":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/04-hooks.ts",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:""},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"Hooks.ts",slug:"hooks.ts",url:"/setting-up/hooks.ts",isFirst:false,prevPath:{slug:"routes",title:"Routes"},nextPath:{slug:"browserClient.ts",title:"BrowserClient.ts"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/04-hooks.ts/README.md"}},"browserClient.ts":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/05-browserClient.ts",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"BrowserClient.ts",slug:"browserClient.ts",url:"/setting-up/browserClient.ts",isFirst:false,prevPath:{slug:"hooks.ts",title:"Hooks.ts"},nextPath:{slug:"test",title:"Test"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/05-browserClient.ts/README.md"}},test:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/06-test",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{dir:"routes",files:[{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"Test",slug:"test",url:"/setting-up/test",isFirst:false,prevPath:{slug:"browserClient.ts",title:"BrowserClient.ts"},nextPath:{slug:"files",title:"Files"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/06-test/README.md"}}},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:""}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:""},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:""},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:""},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:""}]}],title:"Setting up",slug:"setting-up",url:"/setting-up",isFirst:true,prevPath:{slug:"install",title:"Install"},nextPath:{slug:"clients",title:"Clients"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/README.md"}},clients:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients",paths:{"browser-client":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/01-browser-client",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc',\n\tbrowserOnly: false\n});\n\nexport type { ProcedureReturnType };"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{dir:"routes",files:[{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"Browser client",slug:"browser-client",url:"/clients/browser-client",isFirst:false,prevPath:{},nextPath:{slug:"load-client",title:"Load client"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/01-browser-client/README.md"}},"load-client":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client",paths:{"handle-fetch":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client/01-handle-fetch",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\nexport const handlefetchHook = t.handleFetchCreate();"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n\tpath: '/trpc',\n\tcontext: async function (event) {\n\t\treturn {\n\t\t\twelcome: 'Hello and welcome!'\n\t\t};\n\t},\n\torigin: 'http://localhost:5173',\n\tbypassOrigin: 'http://localhost:5173'\n});\n"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{dir:"routes",files:[{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook, handlefetchHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n\nexport async function handleFetch({ request, fetch }) {\n\trequest = handlefetchHook(request);\n\treturn fetch(request);\n}"}]}],title:"Handle fetch",slug:"handle-fetch",url:"/clients/load-client/handle-fetch",isFirst:false,prevPath:{},nextPath:{slug:"files",title:"Files"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client/01-handle-fetch/README.md"}}},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:""}]},{dir:"routes",files:[{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"Load client",slug:"load-client",url:"/clients/load-client",isFirst:false,prevPath:{slug:"browser-client",title:"Browser client"},nextPath:{slug:"server-client",title:"Server client"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client/README.md"}},"server-client":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/03-server-client",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n"}]},{dir:"routes",files:[{dir:"server",files:[{file:"+page.server.ts",filePath:["src","routes","server","+page.server.ts"],id:"id-src-routes-server-page-server-ts-txt",content:"import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n"},{file:"+page.svelte",filePath:["src","routes","server","+page.svelte"],id:"id-src-routes-server-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"Server client",slug:"server-client",url:"/clients/server-client",isFirst:false,prevPath:{slug:"load-client",title:"Load client"},nextPath:{slug:"store-client",title:"Store client"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/03-server-client/README.md"}},"store-client":{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client",paths:{$once:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/01-$once",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\tstoreClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const storeClient = storeClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n"}]},{dir:"routes",files:[{dir:"store",files:[{dir:"once",files:[{file:"+page.svelte",filePath:["src","routes","store","once","+page.svelte"],id:"id-src-routes-store-once-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcome.query.$once();\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]}]},{dir:"server",files:[{file:"+page.server.ts",filePath:["src","routes","server","+page.server.ts"],id:"id-src-routes-server-page-server-ts-txt",content:"import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n"},{file:"+page.svelte",filePath:["src","routes","server","+page.svelte"],id:"id-src-routes-server-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"$once",slug:"$once",url:"/clients/store-client/$once",isFirst:false,prevPath:{},nextPath:{slug:"$many",title:"$many"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/01-$once/README.md"}},$many:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/02-$many",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nimport { z } from 'zod';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t}),\n\twelcomeName: t.procedure.input(z.string().min(3)).query(async function ({ ctx, input: name }) {\n\t\tawait sleep(0.5, 2);\n\t\tif (name === 'error') {\n\t\t\tthrow t.error(`${name} is not a valid name`);\n\t\t}\n\t\treturn `Welcome ${name}`;\n\t})\n});\nfunction sleep(tMin: number, tMax?: number, inS: boolean = true) {\n\ttMin = tMin * (inS ? 1000 : 1);\n\ttMax = tMax ? tMax * (inS ? 1000 : 1) : undefined;\n\tconst ms =\n\t\ttMax !== undefined && tMax > tMin ? Math.floor(Math.random() * (tMax - tMin + 1)) + tMin : tMin;\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\tstoreClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const storeClient = storeClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n"}]},{dir:"routes",files:[{dir:"store",files:[{dir:"once",files:[{file:"+page.svelte",filePath:["src","routes","store","once","+page.svelte"],id:"id-src-routes-store-once-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcome.query.$once();\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"many",files:[{file:"+page.svelte",filePath:["src","routes","store","many","+page.svelte"],id:"id-src-routes-store-many-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcomeName.query.$many();\n\t$welcome.call('Yusaf');\n\tsetTimeout(function () {\n\t\t$welcome.call('Paul');\n\t}, 2000);\n\tsetTimeout(function () {\n\t\t$welcome.call('error');\n\t}, 4000);\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else if $welcome.error}\n\t{$welcome.error.message}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]}]},{dir:"server",files:[{file:"+page.server.ts",filePath:["src","routes","server","+page.server.ts"],id:"id-src-routes-server-page-server-ts-txt",content:"import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n"},{file:"+page.svelte",filePath:["src","routes","server","+page.svelte"],id:"id-src-routes-server-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"$many",slug:"$many",url:"/clients/store-client/$many",isFirst:false,prevPath:{slug:"$once",title:"$once"},nextPath:{slug:"$multiple",title:"$multiple"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/02-$many/README.md"}},$multiple:{path:"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/03-$multiple",paths:{},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{dir:"db",files:[{file:"index.ts",filePath:["src","trpc","routes","db","index.ts"],id:"id-src-trpc-routes-db-index-ts-txt",content:"import { t } from '$trpc/init';\nimport { z } from 'zod';\nimport { sleep } from '..';\nexport default t.router({\n\tgetList: t.procedure.query(async function () {\n\t\treturn await stringDB.getAll();\n\t}),\n\tremoveFromList: t.procedure.input(z.string()).mutation(async function ({ input: item }) {\n\t\ttry {\n\t\t\treturn await stringDB.remove(item);\n\t\t} catch (e) {\n\t\t\tthrow t.error('Failed to remove item', 'INTERNAL_SERVER_ERROR');\n\t\t}\n\t}),\n\taddToList: t.procedure.input(z.string()).mutation(async function ({ input: item }) {\n\t\ttry {\n\t\t\tawait stringDB.insert(item);\n\t\t} catch (e) {\n\t\t\tthrow t.error('Failed to add item', 'INTERNAL_SERVER_ERROR');\n\t\t}\n\t\treturn item;\n\t})\n});\n/*\n *\n *\n *\n *\n *\n *\n *\n * STRING DB :)\n * THE NEXT GEN DATABASE TO TAKE OVER THE WORLD!\n */\ndeclare global {\n\tvar stringDBStore: undefined | string[];\n}\nlet stringDBStore: string[] = global?.stringDBStore || [];\nlet stringDB = {\n\tdata: stringDBStore as string[],\n\tgetAll: async function (): Promise\u003Cstring[]> {\n\t\tawait sleep(0.5, 2);\n\t\treturn this.data;\n\t},\n\tremove: async function (removeItem: string) {\n\t\tawait sleep(0.5, 2);\n\t\tif (Math.random() \u003C 0.2) {\n\t\t\tthrow new Error('Failed to remove');\n\t\t}\n\t\tthis.data = this.data.filter((item: string) => item !== removeItem);\n\t\tglobal.stringDBStore = this.data;\n\t\treturn true;\n\t},\n\tinsert: async function (addItem: string) {\n\t\tawait sleep(0.5, 2);\n\t\tif (Math.random() \u003C 0.1) {\n\t\t\tthrow new Error('Failed to insert');\n\t\t}\n\t\tif (this.data.includes(addItem)) {\n\t\t\tthis.data = this.data.filter((item) => item !== addItem);\n\t\t}\n\t\tthis.data.push(addItem);\n\t\tglobal.stringDBStore = this.data;\n\t\treturn addItem;\n\t}\n};\n"}]},{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nimport { z } from 'zod';\n\nimport db from './db';\n\nexport default t.router({\n\tdb,\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t}),\n\twelcomeName: t.procedure.input(z.string().min(3)).query(async function ({ input: name }) {\n\t\tawait sleep(0.5, 2);\n\t\tif (name === 'error') {\n\t\t\tthrow t.error(`${name} is not a valid name`);\n\t\t}\n\t\treturn `Welcome ${name}`;\n\t})\n});\n\nexport function sleep(tMin: number, tMax?: number, inS: boolean = true) {\n\ttMin = tMin * (inS ? 1000 : 1);\n\ttMax = tMax ? tMax * (inS ? 1000 : 1) : undefined;\n\tconst ms =\n\t\ttMax !== undefined && tMax > tMin ? Math.floor(Math.random() * (tMax - tMin + 1)) + tMin : tMin;\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\tstoreClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const storeClient = storeClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n"}]},{dir:"routes",files:[{dir:"store",files:[{dir:"once",files:[{file:"+page.svelte",filePath:["src","routes","store","once","+page.svelte"],id:"id-src-routes-store-once-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcome.query.$once();\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"multiple",files:[{file:"+page.server.ts",filePath:["src","routes","store","multiple","+page.server.ts"],id:"id-src-routes-store-multiple-page-server-ts-txt",content:"import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\tconst client = await serverClient(event);\n\treturn {\n\t\tprefill: client.db.getList()\n\t};\n}) satisfies PageServerLoad;\n"},{file:"+page.svelte",filePath:["src","routes","store","multiple","+page.svelte"],id:"id-src-routes-store-multiple-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\timport { storeClient } from '$trpc/browserClients';\n\n\texport let data: PageData;\n\n\tlet list = storeClient.db.addToList.mutate.$multiple({\n\t\tloading: true,\n\t\tprefill: data.prefill,\n\t\tchangeTimer: 1000,\n\t\tuniqueResponse: 'replace',\n\t\tunique(input, data) {\n\t\t\treturn input ? input : data;\n\t\t}\n\t});\n\n\tlet itemInput: HTMLInputElement;\n\tfunction addItem() {\n\t\t$list.call(itemInput.value);\n\t\titemInput.value = '';\n\t}\n\u003C/script>\n\n{#if $list.loading}\n\t\u003Cspan style=\"font-weight:bold;font-size:1.2rem\">Loading items... \u003C/span>\u003Cbr />\n{/if}\n\n{#each $list.responses as response}\n\t{#if response.loading}\n\t\tAdding item...\n\t{:else if response.success}\n\t\t\u003Cspan class:changed={response.changed}>{response.data}\u003C/span>\n\t{:else if response.error}\n\t\t{response.error.message}\n\t{/if}\n\t\u003Cbr />\n{/each}\n\n\u003Cform on:submit|preventDefault={addItem}>\n\t\u003Cinput placeholder=\"Item\" bind:this={itemInput} />\n\u003C/form>\n\n\u003Cstyle>\n\tspan {\n\t\tcolor: black;\n\t\ttransition: color 1s linear;\n\t}\n\tspan.changed {\n\t\tcolor: red;\n\t\ttransition: color 1s linear;\n\t}\n\u003C/style>\n"}]},{dir:"many",files:[{file:"+page.svelte",filePath:["src","routes","store","many","+page.svelte"],id:"id-src-routes-store-many-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcomeName.query.$many();\n\t$welcome.call('Yusaf');\n\tsetTimeout(function () {\n\t\t$welcome.call('Paul');\n\t}, 2000);\n\tsetTimeout(function () {\n\t\t$welcome.call('error');\n\t}, 4000);\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else if $welcome.error}\n\t{$welcome.error.message}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]}]},{dir:"server",files:[{file:"+page.server.ts",filePath:["src","routes","server","+page.server.ts"],id:"id-src-routes-server-page-server-ts-txt",content:"import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n"},{file:"+page.svelte",filePath:["src","routes","server","+page.svelte"],id:"id-src-routes-server-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"$multiple",slug:"$multiple",url:"/clients/store-client/$multiple",isFirst:false,prevPath:{slug:"$many",title:"$many"},nextPath:{slug:"files",title:"Files"},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/03-$multiple/README.md"}}},codeFiles:[{dir:"src",files:[{dir:"trpc",files:[{dir:"routes",files:[{file:"index.ts",filePath:["src","trpc","routes","index.ts"],id:"id-src-trpc-routes-index-ts-txt",content:"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n"}]},{file:"browserClient.ts",filePath:["src","trpc","browserClient.ts"],id:"id-src-trpc-browserClient-ts-txt",content:"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\tstoreClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const storeClient = storeClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n"},{file:"hooks.ts",filePath:["src","trpc","hooks.ts"],id:"id-src-trpc-hooks-ts-txt",content:"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n"},{file:"init.ts",filePath:["src","trpc","init.ts"],id:"id-src-trpc-init-ts-txt",content:"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});"},{file:"serverClient.ts",filePath:["src","trpc","serverClient.ts"],id:"id-src-trpc-serverClient-ts-txt",content:"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n"}]},{dir:"routes",files:[{dir:"server",files:[{file:"+page.server.ts",filePath:["src","routes","server","+page.server.ts"],id:"id-src-routes-server-page-server-ts-txt",content:"import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n"},{file:"+page.svelte",filePath:["src","routes","server","+page.svelte"],id:"id-src-routes-server-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{dir:"load",files:[{file:"+page.svelte",filePath:["src","routes","load","+page.svelte"],id:"id-src-routes-load-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"},{file:"+page.ts",filePath:["src","routes","load","+page.ts"],id:"id-src-routes-load-page-ts-txt",content:"import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n"}]},{file:"+page.svelte",filePath:["src","routes","+page.svelte"],id:"id-src-routes-page-svelte-txt",content:"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n"}]},{file:"hooks.server.ts",filePath:["src","hooks.server.ts"],id:"id-src-hooks-server-ts-txt",content:"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n"}]}],title:"Store client",slug:"store-client",url:"/clients/store-client",isFirst:false,prevPath:{slug:"server-client",title:"Server client"},nextPath:{},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/README.md"}}},codeFiles:void 0,title:"Clients",slug:"clients",url:"/clients",isFirst:true,prevPath:{slug:"setting-up",title:"Setting up"},nextPath:{},files:{"readme.md":"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/README.md"}}}},paths:["setting-up","the-event-journey"],path:a,meta:{title:"The journey of event",description:"The journey of the event object in sveltekit"},warnings:[]}}({})),"uses":{"params":["paths"]}}];

					Promise.all([
						import("../../../_app/immutable/entry/start.8333e1f3.js"),
						import("../../../_app/immutable/entry/app.2656ab21.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
