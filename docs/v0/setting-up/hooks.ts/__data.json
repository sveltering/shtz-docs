{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"content":1,"allPaths":2,"paths":651,"path":117,"meta":652,"warnings":656},"\u003Ch1 id=\"hooksts\">hooks.ts\u003C/h1>\n\u003Cp>Now we set up hooks to capture and route all trpc requests made to the server\u003C/p>\n\u003Ch2 id=\"creating-our-hook\">Creating our hook\u003C/h2>\n\u003Cp>In the example you can see we import \u003Ccode>t\u003C/code> our TRPC class object we created in \u003Ccode>init.ts\u003C/code> and we also import our routes\u003C/p>\n\u003Cp>We then create a \u003Ccode>Router\u003C/code> type for our routes which will be used later when we create our clients (clients are how we call the endpoints from frontend/backend).\u003C/p>\n\u003Cp>We also create our handle hook which contains the magic of routing any requests to our chosen \u003Ccode>/path\u003C/code> to the procedures in our routes.\u003C/p>\n\u003Ch2 id=\"setting-up-the-hook\">Setting up the hook\u003C/h2>\n\u003Cp>Now open \u003Ccode>src &gt; hooks.server.ts\u003C/code>\u003C/p>\n\u003Cp>Here we import the \u003Ccode>handleHook\u003C/code> function we created in the \u003Ccode>hooks.ts\u003C/code> file and we use it to capture any trpc requests.\u003C/p>\n\u003Cp>If the request is to a trpc endpoint we then return the response.\u003C/p>\n",{"paths":3},{"premise":4,"install":17,"setting-up":27,"clients":239},{"path":5,"paths":6,"codeFiles":-1,"title":7,"slug":8,"url":9,"isFirst":10,"prevPath":11,"nextPath":12,"files":15},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/01-premise",{},"Premise","premise","/premise",true,{},{"slug":13,"title":14},"install","Install",{"readme.md":16},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/01-premise/README.md",{"path":18,"paths":19,"codeFiles":-1,"title":14,"slug":13,"url":20,"isFirst":10,"prevPath":21,"nextPath":22,"files":25},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-install",{},"/install",{"slug":8,"title":7},{"slug":23,"title":24},"setting-up","Setting up",{"readme.md":26},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-install/README.md",{"path":28,"paths":29,"codeFiles":213,"title":24,"slug":23,"url":232,"isFirst":10,"prevPath":233,"nextPath":234,"files":237},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up",{"the-event-journey":30,"init.ts":43,"routes":87,"hooks.ts":117,"browserClient.ts":147,"test":177},{"path":31,"paths":32,"codeFiles":-1,"title":33,"slug":34,"url":35,"isFirst":36,"prevPath":37,"nextPath":38,"files":41},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/01-the-event-journey",{},"The event journey","the-event-journey","/setting-up/the-event-journey",false,{},{"slug":39,"title":40},"init.ts","Init.ts",{"readme.md":42},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/01-the-event-journey/README.md",{"path":44,"paths":45,"codeFiles":46,"title":40,"slug":39,"url":81,"isFirst":36,"prevPath":82,"nextPath":83,"files":85},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/02-init.ts",{},[47],{"dir":48,"files":49},"src",[50,77],{"dir":51,"files":52},"trpc",[53,61,65,69,73],{"dir":54,"files":55},"routes",[56],{"file":57,"filePath":58,"id":59,"content":60},"index.ts",[48,51,54,57],"id-src-trpc-routes-index-ts-txt","",{"file":62,"filePath":63,"id":64,"content":60},"browserClient.ts",[48,51,62],"id-src-trpc-browserClient-ts-txt",{"file":66,"filePath":67,"id":68,"content":60},"hooks.ts",[48,51,66],"id-src-trpc-hooks-ts-txt",{"file":39,"filePath":70,"id":71,"content":72},[48,51,39],"id-src-trpc-init-ts-txt","import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    // Path is optional with the default value being /trpc \n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});",{"file":74,"filePath":75,"id":76,"content":60},"serverClient.ts",[48,51,74],"id-src-trpc-serverClient-ts-txt",{"file":78,"filePath":79,"id":80,"content":60},"hooks.server.ts",[48,78],"id-src-hooks-server-ts-txt","/setting-up/init.ts",{"slug":34,"title":33},{"slug":54,"title":84},"Routes",{"readme.md":86},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/02-init.ts/README.md",{"path":88,"paths":89,"codeFiles":90,"title":84,"slug":54,"url":111,"isFirst":36,"prevPath":112,"nextPath":113,"files":115},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/03-routes",{},[91],{"dir":48,"files":92},[93,109],{"dir":51,"files":94},[95,100,102,104,107],{"dir":54,"files":96},[97],{"file":57,"filePath":98,"id":59,"content":99},[48,51,54,57],"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n",{"file":62,"filePath":101,"id":64,"content":60},[48,51,62],{"file":66,"filePath":103,"id":68,"content":60},[48,51,66],{"file":39,"filePath":105,"id":71,"content":106},[48,51,39],"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});",{"file":74,"filePath":108,"id":76,"content":60},[48,51,74],{"file":78,"filePath":110,"id":80,"content":60},[48,78],"/setting-up/routes",{"slug":39,"title":40},{"slug":66,"title":114},"Hooks.ts",{"readme.md":116},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/03-routes/README.md",{"path":118,"paths":119,"codeFiles":120,"title":114,"slug":66,"url":141,"isFirst":36,"prevPath":142,"nextPath":143,"files":145},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/04-hooks.ts",{},[121],{"dir":48,"files":122},[123,138],{"dir":51,"files":124},[125,129,131,134,136],{"dir":54,"files":126},[127],{"file":57,"filePath":128,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":130,"id":64,"content":60},[48,51,62],{"file":66,"filePath":132,"id":68,"content":133},[48,51,66],"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n",{"file":39,"filePath":135,"id":71,"content":106},[48,51,39],{"file":74,"filePath":137,"id":76,"content":60},[48,51,74],{"file":78,"filePath":139,"id":80,"content":140},[48,78],"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n","/setting-up/hooks.ts",{"slug":54,"title":84},{"slug":62,"title":144},"BrowserClient.ts",{"readme.md":146},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/04-hooks.ts/README.md",{"path":148,"paths":149,"codeFiles":150,"title":144,"slug":62,"url":170,"isFirst":36,"prevPath":171,"nextPath":172,"files":175},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/05-browserClient.ts",{},[151],{"dir":48,"files":152},[153,168],{"dir":51,"files":154},[155,159,162,164,166],{"dir":54,"files":156},[157],{"file":57,"filePath":158,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":160,"id":64,"content":161},[48,51,62],"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };",{"file":66,"filePath":163,"id":68,"content":133},[48,51,66],{"file":39,"filePath":165,"id":71,"content":106},[48,51,39],{"file":74,"filePath":167,"id":76,"content":60},[48,51,74],{"file":78,"filePath":169,"id":80,"content":140},[48,78],"/setting-up/browserClient.ts",{"slug":66,"title":114},{"slug":173,"title":174},"test","Test",{"readme.md":176},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/05-browserClient.ts/README.md",{"path":178,"paths":179,"codeFiles":180,"title":174,"slug":173,"url":206,"isFirst":36,"prevPath":207,"nextPath":208,"files":211},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/06-test",{},[181],{"dir":48,"files":182},[183,197,204],{"dir":51,"files":184},[185,189,191,193,195],{"dir":54,"files":186},[187],{"file":57,"filePath":188,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":190,"id":64,"content":161},[48,51,62],{"file":66,"filePath":192,"id":68,"content":133},[48,51,66],{"file":39,"filePath":194,"id":71,"content":106},[48,51,39],{"file":74,"filePath":196,"id":76,"content":60},[48,51,74],{"dir":54,"files":198},[199],{"file":200,"filePath":201,"id":202,"content":203},"+page.svelte",[48,54,200],"id-src-routes-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"file":78,"filePath":205,"id":80,"content":140},[48,78],"/setting-up/test",{"slug":62,"title":144},{"slug":209,"title":210},"files","Files",{"readme.md":212},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/06-test/README.md",[214],{"dir":48,"files":215},[216,230],{"dir":51,"files":217},[218,222,224,226,228],{"dir":54,"files":219},[220],{"file":57,"filePath":221,"id":59,"content":60},[48,51,54,57],{"file":62,"filePath":223,"id":64,"content":60},[48,51,62],{"file":66,"filePath":225,"id":68,"content":60},[48,51,66],{"file":39,"filePath":227,"id":71,"content":60},[48,51,39],{"file":74,"filePath":229,"id":76,"content":60},[48,51,74],{"file":78,"filePath":231,"id":80,"content":60},[48,78],"/setting-up",{"slug":13,"title":14},{"slug":235,"title":236},"clients","Clients",{"readme.md":238},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-setting-up/README.md",{"path":240,"paths":241,"codeFiles":-1,"title":236,"slug":235,"url":646,"isFirst":10,"prevPath":647,"nextPath":648,"files":649},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients",{"browser-client":242,"load-client":278,"server-client":366,"store-client":417},{"path":243,"paths":244,"codeFiles":245,"title":269,"slug":270,"url":271,"isFirst":36,"prevPath":272,"nextPath":273,"files":276},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/01-browser-client",{},[246],{"dir":48,"files":247},[248,263,267],{"dir":51,"files":249},[250,254,257,259,261],{"dir":54,"files":251},[252],{"file":57,"filePath":253,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":255,"id":64,"content":256},[48,51,62],"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc',\n\tbrowserOnly: false\n});\n\nexport type { ProcedureReturnType };",{"file":66,"filePath":258,"id":68,"content":133},[48,51,66],{"file":39,"filePath":260,"id":71,"content":106},[48,51,39],{"file":74,"filePath":262,"id":76,"content":60},[48,51,74],{"dir":54,"files":264},[265],{"file":200,"filePath":266,"id":202,"content":203},[48,54,200],{"file":78,"filePath":268,"id":80,"content":140},[48,78],"Browser client","browser-client","/clients/browser-client",{},{"slug":274,"title":275},"load-client","Load client",{"readme.md":277},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/01-browser-client/README.md",{"path":279,"paths":280,"codeFiles":330,"title":275,"slug":274,"url":359,"isFirst":36,"prevPath":360,"nextPath":361,"files":364},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client",{"handle-fetch":281},{"path":282,"paths":283,"codeFiles":284,"title":323,"slug":324,"url":325,"isFirst":36,"prevPath":326,"nextPath":327,"files":328},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client/01-handle-fetch",{},[285],{"dir":48,"files":286},[287,304,320],{"dir":51,"files":288},[289,293,296,299,302],{"dir":54,"files":290},[291],{"file":57,"filePath":292,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":294,"id":64,"content":295},[48,51,62],"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n",{"file":66,"filePath":297,"id":68,"content":298},[48,51,66],"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\nexport const handlefetchHook = t.handleFetchCreate();",{"file":39,"filePath":300,"id":71,"content":301},[48,51,39],"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n\tpath: '/trpc',\n\tcontext: async function (event) {\n\t\treturn {\n\t\t\twelcome: 'Hello and welcome!'\n\t\t};\n\t},\n\torigin: 'http://localhost:5173',\n\tbypassOrigin: 'http://localhost:5173'\n});\n",{"file":74,"filePath":303,"id":76,"content":60},[48,51,74],{"dir":54,"files":305},[306,318],{"dir":307,"files":308},"load",[309,313],{"file":200,"filePath":310,"id":311,"content":312},[48,54,307,200],"id-src-routes-load-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"file":314,"filePath":315,"id":316,"content":317},"+page.ts",[48,54,307,314],"id-src-routes-load-page-ts-txt","import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n",{"file":200,"filePath":319,"id":202,"content":203},[48,54,200],{"file":78,"filePath":321,"id":80,"content":322},[48,78],"import { handleHook, handlefetchHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n\nexport async function handleFetch({ request, fetch }) {\n\trequest = handlefetchHook(request);\n\treturn fetch(request);\n}","Handle fetch","handle-fetch","/clients/load-client/handle-fetch",{},{"slug":209,"title":210},{"readme.md":329},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client/01-handle-fetch/README.md",[331],{"dir":48,"files":332},[333,347,357],{"dir":51,"files":334},[335,339,341,343,345],{"dir":54,"files":336},[337],{"file":57,"filePath":338,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":340,"id":64,"content":295},[48,51,62],{"file":66,"filePath":342,"id":68,"content":133},[48,51,66],{"file":39,"filePath":344,"id":71,"content":106},[48,51,39],{"file":74,"filePath":346,"id":76,"content":60},[48,51,74],{"dir":54,"files":348},[349,355],{"dir":307,"files":350},[351,353],{"file":200,"filePath":352,"id":311,"content":312},[48,54,307,200],{"file":314,"filePath":354,"id":316,"content":317},[48,54,307,314],{"file":200,"filePath":356,"id":202,"content":203},[48,54,200],{"file":78,"filePath":358,"id":80,"content":140},[48,78],"/clients/load-client",{"slug":270,"title":269},{"slug":362,"title":363},"server-client","Server client",{"readme.md":365},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/02-load-client/README.md",{"path":367,"paths":368,"codeFiles":369,"title":363,"slug":362,"url":410,"isFirst":36,"prevPath":411,"nextPath":412,"files":415},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/03-server-client",{},[370],{"dir":48,"files":371},[372,387,408],{"dir":51,"files":373},[374,378,380,382,384],{"dir":54,"files":375},[376],{"file":57,"filePath":377,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":379,"id":64,"content":295},[48,51,62],{"file":66,"filePath":381,"id":68,"content":133},[48,51,66],{"file":39,"filePath":383,"id":71,"content":106},[48,51,39],{"file":74,"filePath":385,"id":76,"content":386},[48,51,74],"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n",{"dir":54,"files":388},[389,400,406],{"dir":390,"files":391},"server",[392,397],{"file":393,"filePath":394,"id":395,"content":396},"+page.server.ts",[48,54,390,393],"id-src-routes-server-page-server-ts-txt","import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n",{"file":200,"filePath":398,"id":399,"content":312},[48,54,390,200],"id-src-routes-server-page-svelte-txt",{"dir":307,"files":401},[402,404],{"file":200,"filePath":403,"id":311,"content":312},[48,54,307,200],{"file":314,"filePath":405,"id":316,"content":317},[48,54,307,314],{"file":200,"filePath":407,"id":202,"content":203},[48,54,200],{"file":78,"filePath":409,"id":80,"content":140},[48,78],"/clients/server-client",{"slug":274,"title":275},{"slug":413,"title":414},"store-client","Store client",{"readme.md":416},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/03-server-client/README.md",{"path":418,"paths":419,"codeFiles":606,"title":414,"slug":413,"url":641,"isFirst":36,"prevPath":642,"nextPath":643,"files":644},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client",{"$once":420,"$many":476,"$multiple":534},{"path":421,"paths":422,"codeFiles":423,"title":469,"slug":469,"url":470,"isFirst":36,"prevPath":471,"nextPath":472,"files":474},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/01-$once",{},[424],{"dir":48,"files":425},[426,441,467],{"dir":51,"files":427},[428,432,435,437,439],{"dir":54,"files":429},[430],{"file":57,"filePath":431,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":433,"id":64,"content":434},[48,51,62],"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\tstoreClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const storeClient = storeClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n",{"file":66,"filePath":436,"id":68,"content":133},[48,51,66],{"file":39,"filePath":438,"id":71,"content":106},[48,51,39],{"file":74,"filePath":440,"id":76,"content":386},[48,51,74],{"dir":54,"files":442},[443,453,459,465],{"dir":444,"files":445},"store",[446],{"dir":447,"files":448},"once",[449],{"file":200,"filePath":450,"id":451,"content":452},[48,54,444,447,200],"id-src-routes-store-once-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcome.query.$once();\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"dir":390,"files":454},[455,457],{"file":393,"filePath":456,"id":395,"content":396},[48,54,390,393],{"file":200,"filePath":458,"id":399,"content":312},[48,54,390,200],{"dir":307,"files":460},[461,463],{"file":200,"filePath":462,"id":311,"content":312},[48,54,307,200],{"file":314,"filePath":464,"id":316,"content":317},[48,54,307,314],{"file":200,"filePath":466,"id":202,"content":203},[48,54,200],{"file":78,"filePath":468,"id":80,"content":140},[48,78],"$once","/clients/store-client/$once",{},{"slug":473,"title":473},"$many",{"readme.md":475},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/01-$once/README.md",{"path":477,"paths":478,"codeFiles":479,"title":473,"slug":473,"url":528,"isFirst":36,"prevPath":529,"nextPath":530,"files":532},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/02-$many",{},[480],{"dir":48,"files":481},[482,497,526],{"dir":51,"files":483},[484,489,491,493,495],{"dir":54,"files":485},[486],{"file":57,"filePath":487,"id":59,"content":488},[48,51,54,57],"import { t } from '$trpc/init';\nimport { z } from 'zod';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t}),\n\twelcomeName: t.procedure.input(z.string().min(3)).query(async function ({ ctx, input: name }) {\n\t\tawait sleep(0.5, 2);\n\t\tif (name === 'error') {\n\t\t\tthrow t.error(`${name} is not a valid name`);\n\t\t}\n\t\treturn `Welcome ${name}`;\n\t})\n});\nfunction sleep(tMin: number, tMax?: number, inS: boolean = true) {\n\ttMin = tMin * (inS ? 1000 : 1);\n\ttMax = tMax ? tMax * (inS ? 1000 : 1) : undefined;\n\tconst ms =\n\t\ttMax !== undefined && tMax > tMin ? Math.floor(Math.random() * (tMax - tMin + 1)) + tMin : tMin;\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n",{"file":62,"filePath":490,"id":64,"content":434},[48,51,62],{"file":66,"filePath":492,"id":68,"content":133},[48,51,66],{"file":39,"filePath":494,"id":71,"content":106},[48,51,39],{"file":74,"filePath":496,"id":76,"content":386},[48,51,74],{"dir":54,"files":498},[499,512,518,524],{"dir":444,"files":500},[501,505],{"dir":447,"files":502},[503],{"file":200,"filePath":504,"id":451,"content":452},[48,54,444,447,200],{"dir":506,"files":507},"many",[508],{"file":200,"filePath":509,"id":510,"content":511},[48,54,444,506,200],"id-src-routes-store-many-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcomeName.query.$many();\n\t$welcome.call('Yusaf');\n\tsetTimeout(function () {\n\t\t$welcome.call('Paul');\n\t}, 2000);\n\tsetTimeout(function () {\n\t\t$welcome.call('error');\n\t}, 4000);\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else if $welcome.error}\n\t{$welcome.error.message}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"dir":390,"files":513},[514,516],{"file":393,"filePath":515,"id":395,"content":396},[48,54,390,393],{"file":200,"filePath":517,"id":399,"content":312},[48,54,390,200],{"dir":307,"files":519},[520,522],{"file":200,"filePath":521,"id":311,"content":312},[48,54,307,200],{"file":314,"filePath":523,"id":316,"content":317},[48,54,307,314],{"file":200,"filePath":525,"id":202,"content":203},[48,54,200],{"file":78,"filePath":527,"id":80,"content":140},[48,78],"/clients/store-client/$many",{"slug":469,"title":469},{"slug":531,"title":531},"$multiple",{"readme.md":533},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/02-$many/README.md",{"path":535,"paths":536,"codeFiles":537,"title":531,"slug":531,"url":601,"isFirst":36,"prevPath":602,"nextPath":603,"files":604},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/03-$multiple",{},[538],{"dir":48,"files":539},[540,562,599],{"dir":51,"files":541},[542,554,556,558,560],{"dir":54,"files":543},[544,551],{"dir":545,"files":546},"db",[547],{"file":57,"filePath":548,"id":549,"content":550},[48,51,54,545,57],"id-src-trpc-routes-db-index-ts-txt","import { t } from '$trpc/init';\nimport { z } from 'zod';\nimport { sleep } from '..';\nexport default t.router({\n\tgetList: t.procedure.query(async function () {\n\t\treturn await stringDB.getAll();\n\t}),\n\tremoveFromList: t.procedure.input(z.string()).mutation(async function ({ input: item }) {\n\t\ttry {\n\t\t\treturn await stringDB.remove(item);\n\t\t} catch (e) {\n\t\t\tthrow t.error('Failed to remove item', 'INTERNAL_SERVER_ERROR');\n\t\t}\n\t}),\n\taddToList: t.procedure.input(z.string()).mutation(async function ({ input: item }) {\n\t\ttry {\n\t\t\tawait stringDB.insert(item);\n\t\t} catch (e) {\n\t\t\tthrow t.error('Failed to add item', 'INTERNAL_SERVER_ERROR');\n\t\t}\n\t\treturn item;\n\t})\n});\n/*\n *\n *\n *\n *\n *\n *\n *\n * STRING DB :)\n * THE NEXT GEN DATABASE TO TAKE OVER THE WORLD!\n */\ndeclare global {\n\tvar stringDBStore: undefined | string[];\n}\nlet stringDBStore: string[] = global?.stringDBStore || [];\nlet stringDB = {\n\tdata: stringDBStore as string[],\n\tgetAll: async function (): Promise\u003Cstring[]> {\n\t\tawait sleep(0.5, 2);\n\t\treturn this.data;\n\t},\n\tremove: async function (removeItem: string) {\n\t\tawait sleep(0.5, 2);\n\t\tif (Math.random() \u003C 0.2) {\n\t\t\tthrow new Error('Failed to remove');\n\t\t}\n\t\tthis.data = this.data.filter((item: string) => item !== removeItem);\n\t\tglobal.stringDBStore = this.data;\n\t\treturn true;\n\t},\n\tinsert: async function (addItem: string) {\n\t\tawait sleep(0.5, 2);\n\t\tif (Math.random() \u003C 0.1) {\n\t\t\tthrow new Error('Failed to insert');\n\t\t}\n\t\tif (this.data.includes(addItem)) {\n\t\t\tthis.data = this.data.filter((item) => item !== addItem);\n\t\t}\n\t\tthis.data.push(addItem);\n\t\tglobal.stringDBStore = this.data;\n\t\treturn addItem;\n\t}\n};\n",{"file":57,"filePath":552,"id":59,"content":553},[48,51,54,57],"import { t } from '$trpc/init';\nimport { z } from 'zod';\n\nimport db from './db';\n\nexport default t.router({\n\tdb,\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t}),\n\twelcomeName: t.procedure.input(z.string().min(3)).query(async function ({ input: name }) {\n\t\tawait sleep(0.5, 2);\n\t\tif (name === 'error') {\n\t\t\tthrow t.error(`${name} is not a valid name`);\n\t\t}\n\t\treturn `Welcome ${name}`;\n\t})\n});\n\nexport function sleep(tMin: number, tMax?: number, inS: boolean = true) {\n\ttMin = tMin * (inS ? 1000 : 1);\n\ttMax = tMax ? tMax * (inS ? 1000 : 1) : undefined;\n\tconst ms =\n\t\ttMax !== undefined && tMax > tMin ? Math.floor(Math.random() * (tMax - tMin + 1)) + tMin : tMin;\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n",{"file":62,"filePath":555,"id":64,"content":434},[48,51,62],{"file":66,"filePath":557,"id":68,"content":133},[48,51,66],{"file":39,"filePath":559,"id":71,"content":106},[48,51,39],{"file":74,"filePath":561,"id":76,"content":386},[48,51,74],{"dir":54,"files":563},[564,585,591,597],{"dir":444,"files":565},[566,570,581],{"dir":447,"files":567},[568],{"file":200,"filePath":569,"id":451,"content":452},[48,54,444,447,200],{"dir":571,"files":572},"multiple",[573,577],{"file":393,"filePath":574,"id":575,"content":576},[48,54,444,571,393],"id-src-routes-store-multiple-page-server-ts-txt","import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\tconst client = await serverClient(event);\n\treturn {\n\t\tprefill: client.db.getList()\n\t};\n}) satisfies PageServerLoad;\n",{"file":200,"filePath":578,"id":579,"content":580},[48,54,444,571,200],"id-src-routes-store-multiple-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\timport { storeClient } from '$trpc/browserClients';\n\n\texport let data: PageData;\n\n\tlet list = storeClient.db.addToList.mutate.$multiple({\n\t\tloading: true,\n\t\tprefill: data.prefill,\n\t\tchangeTimer: 1000,\n\t\tuniqueResponse: 'replace',\n\t\tunique(input, data) {\n\t\t\treturn input ? input : data;\n\t\t}\n\t});\n\n\tlet itemInput: HTMLInputElement;\n\tfunction addItem() {\n\t\t$list.call(itemInput.value);\n\t\titemInput.value = '';\n\t}\n\u003C/script>\n\n{#if $list.loading}\n\t\u003Cspan style=\"font-weight:bold;font-size:1.2rem\">Loading items... \u003C/span>\u003Cbr />\n{/if}\n\n{#each $list.responses as response}\n\t{#if response.loading}\n\t\tAdding item...\n\t{:else if response.success}\n\t\t\u003Cspan class:changed={response.changed}>{response.data}\u003C/span>\n\t{:else if response.error}\n\t\t{response.error.message}\n\t{/if}\n\t\u003Cbr />\n{/each}\n\n\u003Cform on:submit|preventDefault={addItem}>\n\t\u003Cinput placeholder=\"Item\" bind:this={itemInput} />\n\u003C/form>\n\n\u003Cstyle>\n\tspan {\n\t\tcolor: black;\n\t\ttransition: color 1s linear;\n\t}\n\tspan.changed {\n\t\tcolor: red;\n\t\ttransition: color 1s linear;\n\t}\n\u003C/style>\n",{"dir":506,"files":582},[583],{"file":200,"filePath":584,"id":510,"content":511},[48,54,444,506,200],{"dir":390,"files":586},[587,589],{"file":393,"filePath":588,"id":395,"content":396},[48,54,390,393],{"file":200,"filePath":590,"id":399,"content":312},[48,54,390,200],{"dir":307,"files":592},[593,595],{"file":200,"filePath":594,"id":311,"content":312},[48,54,307,200],{"file":314,"filePath":596,"id":316,"content":317},[48,54,307,314],{"file":200,"filePath":598,"id":202,"content":203},[48,54,200],{"file":78,"filePath":600,"id":80,"content":140},[48,78],"/clients/store-client/$multiple",{"slug":473,"title":473},{"slug":209,"title":210},{"readme.md":605},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/03-$multiple/README.md",[607],{"dir":48,"files":608},[609,623,639],{"dir":51,"files":610},[611,615,617,619,621],{"dir":54,"files":612},[613],{"file":57,"filePath":614,"id":59,"content":99},[48,51,54,57],{"file":62,"filePath":616,"id":64,"content":434},[48,51,62],{"file":66,"filePath":618,"id":68,"content":133},[48,51,66],{"file":39,"filePath":620,"id":71,"content":106},[48,51,39],{"file":74,"filePath":622,"id":76,"content":386},[48,51,74],{"dir":54,"files":624},[625,631,637],{"dir":390,"files":626},[627,629],{"file":393,"filePath":628,"id":395,"content":396},[48,54,390,393],{"file":200,"filePath":630,"id":399,"content":312},[48,54,390,200],{"dir":307,"files":632},[633,635],{"file":200,"filePath":634,"id":311,"content":312},[48,54,307,200],{"file":314,"filePath":636,"id":316,"content":317},[48,54,307,314],{"file":200,"filePath":638,"id":202,"content":203},[48,54,200],{"file":78,"filePath":640,"id":80,"content":140},[48,78],"/clients/store-client",{"slug":362,"title":363},{},{"readme.md":645},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/04-store-client/README.md","/clients",{"slug":23,"title":24},{},{"readme.md":650},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/04-clients/README.md",[23,66],{"title":653,"description":654,"open":655},"Hooks","Set up hooks.ts","src/hooks.server.ts, src/trpc/hooks.ts",[]],"uses":{"params":["paths"]}}]}
