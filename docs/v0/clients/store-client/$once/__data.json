{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"content":1,"allPaths":2,"paths":631,"path":400,"meta":632,"warnings":635},"\u003Ch1 id=\"once-store\">$once store\u003C/h1>\n\u003Cp>This example is simple.\u003C/p>\n\u003Cp>If the query procedure has input you can also add that to the $once call e.g. and you get full typesafety and autocomplete.\u003C/p>\n\u003Cpre>\u003Ccode class=\"language-typescript\">let welcome = storeClient.welcome.query.$once({\n    name:\"Yusaf\"\n});\n\u003C/code>\u003C/pre>\n\u003Cp>Next we'll include the name input and try it with \u003Ccode>$many\u003C/code>!\u003C/p>\n",{"paths":3},{"install":4,"setting-up":17,"clients":218},{"path":5,"paths":6,"codeFiles":-1,"title":7,"slug":8,"url":9,"isFirst":10,"prevPath":11,"nextPath":12,"files":15},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/01-install",{},"Install","install","/install",true,{},{"slug":13,"title":14},"setting-up","Setting up",{"readme.md":16},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/01-install/README.md",{"path":18,"paths":19,"codeFiles":192,"title":14,"slug":13,"url":211,"isFirst":10,"prevPath":212,"nextPath":213,"files":216},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up",{"init.ts":20,"routes":67,"hooks.ts":96,"browserClient.ts":126,"test":156},{"path":21,"paths":22,"codeFiles":23,"title":59,"slug":47,"url":60,"isFirst":61,"prevPath":62,"nextPath":63,"files":65},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/01-init.ts",{},[24],{"dir":25,"files":26},"src",[27,55],{"dir":28,"files":29},"trpc",[30,38,42,46,51],{"dir":31,"files":32},"routes",[33],{"file":34,"filePath":35,"id":36,"content":37},"index.ts",[25,28,31,34],"id-src-trpc-routes-index-ts-txt","",{"file":39,"filePath":40,"id":41,"content":37},"browserClient.ts",[25,28,39],"id-src-trpc-browserClient-ts-txt",{"file":43,"filePath":44,"id":45,"content":37},"hooks.ts",[25,28,43],"id-src-trpc-hooks-ts-txt",{"file":47,"filePath":48,"id":49,"content":50},"init.ts",[25,28,47],"id-src-trpc-init-ts-txt","import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n    path: '/trpc',\n    context: async function (event) {\n        return {\n            welcome: 'Hello and welcome!'\n        };\n    }\n});",{"file":52,"filePath":53,"id":54,"content":37},"serverClient.ts",[25,28,52],"id-src-trpc-serverClient-ts-txt",{"file":56,"filePath":57,"id":58,"content":37},"hooks.server.ts",[25,56],"id-src-hooks-server-ts-txt","Init.ts","/setting-up/init.ts",false,{},{"slug":31,"title":64},"Routes",{"readme.md":66},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/01-init.ts/README.md",{"path":68,"paths":69,"codeFiles":70,"title":64,"slug":31,"url":90,"isFirst":61,"prevPath":91,"nextPath":92,"files":94},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/02-routes",{},[71],{"dir":25,"files":72},[73,88],{"dir":28,"files":74},[75,80,82,84,86],{"dir":31,"files":76},[77],{"file":34,"filePath":78,"id":36,"content":79},[25,28,31,34],"import { t } from '$trpc/init';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t})\n});\n",{"file":39,"filePath":81,"id":41,"content":37},[25,28,39],{"file":43,"filePath":83,"id":45,"content":37},[25,28,43],{"file":47,"filePath":85,"id":49,"content":50},[25,28,47],{"file":52,"filePath":87,"id":54,"content":37},[25,28,52],{"file":56,"filePath":89,"id":58,"content":37},[25,56],"/setting-up/routes",{"slug":47,"title":59},{"slug":43,"title":93},"Hooks.ts",{"readme.md":95},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/02-routes/README.md",{"path":97,"paths":98,"codeFiles":99,"title":93,"slug":43,"url":120,"isFirst":61,"prevPath":121,"nextPath":122,"files":124},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/03-hooks.ts",{},[100],{"dir":25,"files":101},[102,117],{"dir":28,"files":103},[104,108,110,113,115],{"dir":31,"files":105},[106],{"file":34,"filePath":107,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":109,"id":41,"content":37},[25,28,39],{"file":43,"filePath":111,"id":45,"content":112},[25,28,43],"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\n",{"file":47,"filePath":114,"id":49,"content":50},[25,28,47],{"file":52,"filePath":116,"id":54,"content":37},[25,28,52],{"file":56,"filePath":118,"id":58,"content":119},[25,56],"import { handleHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n","/setting-up/hooks.ts",{"slug":31,"title":64},{"slug":39,"title":123},"BrowserClient.ts",{"readme.md":125},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/03-hooks.ts/README.md",{"path":127,"paths":128,"codeFiles":129,"title":123,"slug":39,"url":149,"isFirst":61,"prevPath":150,"nextPath":151,"files":154},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/04-browserClient.ts",{},[130],{"dir":25,"files":131},[132,147],{"dir":28,"files":133},[134,138,141,143,145],{"dir":31,"files":135},[136],{"file":34,"filePath":137,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":139,"id":41,"content":140},[25,28,39],"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };",{"file":43,"filePath":142,"id":45,"content":112},[25,28,43],{"file":47,"filePath":144,"id":49,"content":50},[25,28,47],{"file":52,"filePath":146,"id":54,"content":37},[25,28,52],{"file":56,"filePath":148,"id":58,"content":119},[25,56],"/setting-up/browserClient.ts",{"slug":43,"title":93},{"slug":152,"title":153},"test","Test",{"readme.md":155},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/04-browserClient.ts/README.md",{"path":157,"paths":158,"codeFiles":159,"title":153,"slug":152,"url":185,"isFirst":61,"prevPath":186,"nextPath":187,"files":190},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/05-test",{},[160],{"dir":25,"files":161},[162,176,183],{"dir":28,"files":163},[164,168,170,172,174],{"dir":31,"files":165},[166],{"file":34,"filePath":167,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":169,"id":41,"content":140},[25,28,39],{"file":43,"filePath":171,"id":45,"content":112},[25,28,43],{"file":47,"filePath":173,"id":49,"content":50},[25,28,47],{"file":52,"filePath":175,"id":54,"content":37},[25,28,52],{"dir":31,"files":177},[178],{"file":179,"filePath":180,"id":181,"content":182},"+page.svelte",[25,31,179],"id-src-routes-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"file":56,"filePath":184,"id":58,"content":119},[25,56],"/setting-up/test",{"slug":39,"title":123},{"slug":188,"title":189},"files","Files",{"readme.md":191},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/05-test/README.md",[193],{"dir":25,"files":194},[195,209],{"dir":28,"files":196},[197,201,203,205,207],{"dir":31,"files":198},[199],{"file":34,"filePath":200,"id":36,"content":37},[25,28,31,34],{"file":39,"filePath":202,"id":41,"content":37},[25,28,39],{"file":43,"filePath":204,"id":45,"content":37},[25,28,43],{"file":47,"filePath":206,"id":49,"content":37},[25,28,47],{"file":52,"filePath":208,"id":54,"content":37},[25,28,52],{"file":56,"filePath":210,"id":58,"content":37},[25,56],"/setting-up",{"slug":8,"title":7},{"slug":214,"title":215},"clients","Clients",{"readme.md":217},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/02-setting-up/README.md",{"path":219,"paths":220,"codeFiles":-1,"title":215,"slug":214,"url":626,"isFirst":10,"prevPath":627,"nextPath":628,"files":629},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients",{"browser-client":221,"load-client":258,"server-client":346,"store-client":397},{"path":222,"paths":223,"codeFiles":224,"title":249,"slug":250,"url":251,"isFirst":61,"prevPath":252,"nextPath":253,"files":256},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/01-browser-client",{},[225],{"dir":25,"files":226},[227,242,247],{"dir":28,"files":228},[229,233,236,238,240],{"dir":31,"files":230},[231],{"file":34,"filePath":232,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":234,"id":41,"content":235},[25,28,39],"import { browserClientCreate, type ProcedureReturnType } from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc',\n\tbrowserOnly: false\n});\n\nexport type { ProcedureReturnType };",{"file":43,"filePath":237,"id":45,"content":112},[25,28,43],{"file":47,"filePath":239,"id":49,"content":50},[25,28,47],{"file":52,"filePath":241,"id":54,"content":37},[25,28,52],{"dir":31,"files":243},[244],{"file":179,"filePath":245,"id":181,"content":246},[25,31,179],"\u003Cscript lang=\"ts\">\n\timport { browserClient, type ProcedureReturnType } from '$trpc/browserClients';\n\n\tlet welcome: ProcedureReturnType\u003Ctypeof browserClient.welcome.query>;\n\t(async function () {\n\t\twelcome = await browserClient.welcome.query();\n\t\tconsole.log(welcome);\n\t})();\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"file":56,"filePath":248,"id":58,"content":119},[25,56],"Browser client","browser-client","/clients/browser-client",{},{"slug":254,"title":255},"load-client","Load client",{"readme.md":257},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/01-browser-client/README.md",{"path":259,"paths":260,"codeFiles":310,"title":255,"slug":254,"url":339,"isFirst":61,"prevPath":340,"nextPath":341,"files":344},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/02-load-client",{"handle-fetch":261},{"path":262,"paths":263,"codeFiles":264,"title":303,"slug":304,"url":305,"isFirst":61,"prevPath":306,"nextPath":307,"files":308},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/02-load-client/01-handle-fetch",{},[265],{"dir":25,"files":266},[267,284,300],{"dir":28,"files":268},[269,273,276,279,282],{"dir":31,"files":270},[271],{"file":34,"filePath":272,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":274,"id":41,"content":275},[25,28,39],"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n",{"file":43,"filePath":277,"id":45,"content":278},[25,28,43],"import { t } from '$trpc/init';\nimport routes from '$trpc/routes';\n\nexport type Router = typeof routes;\nexport const handleHook = t.hookCreate(routes);\nexport const handlefetchHook = t.handleFetchCreate();",{"file":47,"filePath":280,"id":49,"content":281},[25,28,47],"import { TRPC } from '@sveltering/shtz/server';\n\nexport const t = new TRPC({\n\tpath: '/trpc',\n\tcontext: async function (event) {\n\t\treturn {\n\t\t\twelcome: 'Hello and welcome!'\n\t\t};\n\t},\n\torigin: 'http://localhost:5173',\n\tbypassOrigin: 'http://localhost:5173'\n});\n",{"file":52,"filePath":283,"id":54,"content":37},[25,28,52],{"dir":31,"files":285},[286,298],{"dir":287,"files":288},"load",[289,293],{"file":179,"filePath":290,"id":291,"content":292},[25,31,287,179],"id-src-routes-load-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\texport let data: PageData;\n\tlet { welcome } = data;\n\u003C/script>\n\n{#if welcome}\n\t{welcome}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"file":294,"filePath":295,"id":296,"content":297},"+page.ts",[25,31,287,294],"id-src-routes-load-page-ts-txt","import { loadClient } from '$trpc/browserClients';\nimport type { PageLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the load client for any errors that may occur!\n\treturn {\n\t\twelcome: await loadClient(event).welcome.query()\n\t};\n}) satisfies PageLoad;\n",{"file":179,"filePath":299,"id":181,"content":246},[25,31,179],{"file":56,"filePath":301,"id":58,"content":302},[25,56],"import { handleHook, handlefetchHook } from '$trpc/hooks';\n\nexport async function handle({ event, resolve }) {\n\tconst TRPCResponse = await handleHook(event);\n\tif (TRPCResponse) {\n\t\treturn TRPCResponse;\n\t}\n\n\tconst response = await resolve(event);\n\treturn response;\n}\n\nexport async function handleFetch({ request, fetch }) {\n\trequest = handlefetchHook(request);\n\treturn fetch(request);\n}","Handle fetch","handle-fetch","/clients/load-client/handle-fetch",{},{"slug":188,"title":189},{"readme.md":309},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/02-load-client/01-handle-fetch/README.md",[311],{"dir":25,"files":312},[313,327,337],{"dir":28,"files":314},[315,319,321,323,325],{"dir":31,"files":316},[317],{"file":34,"filePath":318,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":320,"id":41,"content":275},[25,28,39],{"file":43,"filePath":322,"id":45,"content":112},[25,28,43],{"file":47,"filePath":324,"id":49,"content":50},[25,28,47],{"file":52,"filePath":326,"id":54,"content":37},[25,28,52],{"dir":31,"files":328},[329,335],{"dir":287,"files":330},[331,333],{"file":179,"filePath":332,"id":291,"content":292},[25,31,287,179],{"file":294,"filePath":334,"id":296,"content":297},[25,31,287,294],{"file":179,"filePath":336,"id":181,"content":246},[25,31,179],{"file":56,"filePath":338,"id":58,"content":119},[25,56],"/clients/load-client",{"slug":250,"title":249},{"slug":342,"title":343},"server-client","Server client",{"readme.md":345},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/02-load-client/README.md",{"path":347,"paths":348,"codeFiles":349,"title":343,"slug":342,"url":390,"isFirst":61,"prevPath":391,"nextPath":392,"files":395},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/03-server-client",{},[350],{"dir":25,"files":351},[352,367,388],{"dir":28,"files":353},[354,358,360,362,364],{"dir":31,"files":355},[356],{"file":34,"filePath":357,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":359,"id":41,"content":275},[25,28,39],{"file":43,"filePath":361,"id":45,"content":112},[25,28,43],{"file":47,"filePath":363,"id":49,"content":50},[25,28,47],{"file":52,"filePath":365,"id":54,"content":366},[25,28,52],"import { serverClientCreate } from '@sveltering/shtz/server';\nimport { t } from '$trpc/init';\nimport type { Router } from '$trpc/hooks';\n\nexport const serverClient = serverClientCreate\u003CRouter>(t);\n",{"dir":31,"files":368},[369,380,386],{"dir":370,"files":371},"server",[372,377],{"file":373,"filePath":374,"id":375,"content":376},"+page.server.ts",[25,31,370,373],"id-src-routes-server-page-server-ts-txt","import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\t//In production use try catch on the server client for any errors that may occur!\n\tconst client = await serverClient(event);\n\treturn {\n\t\twelcome: client.welcome()\n\t};\n}) satisfies PageServerLoad;\n",{"file":179,"filePath":378,"id":379,"content":292},[25,31,370,179],"id-src-routes-server-page-svelte-txt",{"dir":287,"files":381},[382,384],{"file":179,"filePath":383,"id":291,"content":292},[25,31,287,179],{"file":294,"filePath":385,"id":296,"content":297},[25,31,287,294],{"file":179,"filePath":387,"id":181,"content":246},[25,31,179],{"file":56,"filePath":389,"id":58,"content":119},[25,56],"/clients/server-client",{"slug":254,"title":255},{"slug":393,"title":394},"store-client","Store client",{"readme.md":396},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/03-server-client/README.md",{"path":398,"paths":399,"codeFiles":586,"title":394,"slug":393,"url":621,"isFirst":61,"prevPath":622,"nextPath":623,"files":624},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client",{"$once":400,"$many":456,"$multiple":514},{"path":401,"paths":402,"codeFiles":403,"title":449,"slug":449,"url":450,"isFirst":61,"prevPath":451,"nextPath":452,"files":454},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/01-$once",{},[404],{"dir":25,"files":405},[406,421,447],{"dir":28,"files":407},[408,412,415,417,419],{"dir":31,"files":409},[410],{"file":34,"filePath":411,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":413,"id":41,"content":414},[25,28,39],"import {\n\tbrowserClientCreate,\n\tloadClientCreate,\n\tstoreClientCreate,\n\ttype ProcedureReturnType\n} from '@sveltering/shtz/browser';\nimport type { Router } from '$trpc/hooks';\n\n// Change the port from 5173 if necessary\nexport const browserClient = browserClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const loadClient = loadClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport const storeClient = storeClientCreate\u003CRouter>({\n\turl: 'http://localhost:5173/trpc'\n});\n\nexport type { ProcedureReturnType };\n",{"file":43,"filePath":416,"id":45,"content":112},[25,28,43],{"file":47,"filePath":418,"id":49,"content":50},[25,28,47],{"file":52,"filePath":420,"id":54,"content":366},[25,28,52],{"dir":31,"files":422},[423,433,439,445],{"dir":424,"files":425},"store",[426],{"dir":427,"files":428},"once",[429],{"file":179,"filePath":430,"id":431,"content":432},[25,31,424,427,179],"id-src-routes-store-once-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcome.query.$once();\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"dir":370,"files":434},[435,437],{"file":373,"filePath":436,"id":375,"content":376},[25,31,370,373],{"file":179,"filePath":438,"id":379,"content":292},[25,31,370,179],{"dir":287,"files":440},[441,443],{"file":179,"filePath":442,"id":291,"content":292},[25,31,287,179],{"file":294,"filePath":444,"id":296,"content":297},[25,31,287,294],{"file":179,"filePath":446,"id":181,"content":246},[25,31,179],{"file":56,"filePath":448,"id":58,"content":119},[25,56],"$once","/clients/store-client/$once",{},{"slug":453,"title":453},"$many",{"readme.md":455},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/01-$once/README.md",{"path":457,"paths":458,"codeFiles":459,"title":453,"slug":453,"url":508,"isFirst":61,"prevPath":509,"nextPath":510,"files":512},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/02-$many",{},[460],{"dir":25,"files":461},[462,477,506],{"dir":28,"files":463},[464,469,471,473,475],{"dir":31,"files":465},[466],{"file":34,"filePath":467,"id":36,"content":468},[25,28,31,34],"import { t } from '$trpc/init';\nimport { z } from 'zod';\nexport default t.router({\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t}),\n\twelcomeName: t.procedure.input(z.string().min(3)).query(async function ({ ctx, input: name }) {\n\t\tawait sleep(0.5, 2);\n\t\tif (name === 'error') {\n\t\t\tthrow t.error(`${name} is not a valid name`);\n\t\t}\n\t\treturn `Welcome ${name}`;\n\t})\n});\nfunction sleep(tMin: number, tMax?: number, inS: boolean = true) {\n\ttMin = tMin * (inS ? 1000 : 1);\n\ttMax = tMax ? tMax * (inS ? 1000 : 1) : undefined;\n\tconst ms =\n\t\ttMax !== undefined && tMax > tMin ? Math.floor(Math.random() * (tMax - tMin + 1)) + tMin : tMin;\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n",{"file":39,"filePath":470,"id":41,"content":414},[25,28,39],{"file":43,"filePath":472,"id":45,"content":112},[25,28,43],{"file":47,"filePath":474,"id":49,"content":50},[25,28,47],{"file":52,"filePath":476,"id":54,"content":366},[25,28,52],{"dir":31,"files":478},[479,492,498,504],{"dir":424,"files":480},[481,485],{"dir":427,"files":482},[483],{"file":179,"filePath":484,"id":431,"content":432},[25,31,424,427,179],{"dir":486,"files":487},"many",[488],{"file":179,"filePath":489,"id":490,"content":491},[25,31,424,486,179],"id-src-routes-store-many-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport { storeClient } from '$trpc/browserClients';\n\tlet welcome = storeClient.welcomeName.query.$many();\n\t$welcome.call('Yusaf');\n\tsetTimeout(function () {\n\t\t$welcome.call('Paul');\n\t}, 2000);\n\tsetTimeout(function () {\n\t\t$welcome.call('error');\n\t}, 4000);\n\u003C/script>\n\n{#if $welcome.loading}\n\tLoading...\n{:else if $welcome.success}\n\t{$welcome.data}\n{:else if $welcome.error}\n\t{$welcome.error.message}\n{:else}\n\t\u003Ch1>Welcome to SvelteKit\u003C/h1>\n{/if}\n\u003Cp>Visit \u003Ca href=\"https://kit.svelte.dev\">kit.svelte.dev\u003C/a> to read the documentation\u003C/p>\n",{"dir":370,"files":493},[494,496],{"file":373,"filePath":495,"id":375,"content":376},[25,31,370,373],{"file":179,"filePath":497,"id":379,"content":292},[25,31,370,179],{"dir":287,"files":499},[500,502],{"file":179,"filePath":501,"id":291,"content":292},[25,31,287,179],{"file":294,"filePath":503,"id":296,"content":297},[25,31,287,294],{"file":179,"filePath":505,"id":181,"content":246},[25,31,179],{"file":56,"filePath":507,"id":58,"content":119},[25,56],"/clients/store-client/$many",{"slug":449,"title":449},{"slug":511,"title":511},"$multiple",{"readme.md":513},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/02-$many/README.md",{"path":515,"paths":516,"codeFiles":517,"title":511,"slug":511,"url":581,"isFirst":61,"prevPath":582,"nextPath":583,"files":584},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/03-$multiple",{},[518],{"dir":25,"files":519},[520,542,579],{"dir":28,"files":521},[522,534,536,538,540],{"dir":31,"files":523},[524,531],{"dir":525,"files":526},"db",[527],{"file":34,"filePath":528,"id":529,"content":530},[25,28,31,525,34],"id-src-trpc-routes-db-index-ts-txt","import { t } from '$trpc/init';\nimport { z } from 'zod';\nimport { sleep } from '..';\nexport default t.router({\n\tgetList: t.procedure.query(async function () {\n\t\treturn await stringDB.getAll();\n\t}),\n\tremoveFromList: t.procedure.input(z.string()).mutation(async function ({ input: item }) {\n\t\ttry {\n\t\t\treturn await stringDB.remove(item);\n\t\t} catch (e) {\n\t\t\tthrow t.error('Failed to remove item', 'INTERNAL_SERVER_ERROR');\n\t\t}\n\t}),\n\taddToList: t.procedure.input(z.string()).mutation(async function ({ input: item }) {\n\t\ttry {\n\t\t\tawait stringDB.insert(item);\n\t\t} catch (e) {\n\t\t\tthrow t.error('Failed to add item', 'INTERNAL_SERVER_ERROR');\n\t\t}\n\t\treturn item;\n\t})\n});\n/*\n *\n *\n *\n *\n *\n *\n *\n * STRING DB :)\n * THE NEXT GEN DATABASE TO TAKE OVER THE WORLD!\n */\ndeclare global {\n\tvar stringDBStore: undefined | string[];\n}\nlet stringDBStore: string[] = global?.stringDBStore || [];\nlet stringDB = {\n\tdata: stringDBStore as string[],\n\tgetAll: async function (): Promise\u003Cstring[]> {\n\t\tawait sleep(0.5, 2);\n\t\treturn this.data;\n\t},\n\tremove: async function (removeItem: string) {\n\t\tawait sleep(0.5, 2);\n\t\tif (Math.random() \u003C 0.2) {\n\t\t\tthrow new Error('Failed to remove');\n\t\t}\n\t\tthis.data = this.data.filter((item: string) => item !== removeItem);\n\t\tglobal.stringDBStore = this.data;\n\t\treturn true;\n\t},\n\tinsert: async function (addItem: string) {\n\t\tawait sleep(0.5, 2);\n\t\tif (Math.random() \u003C 0.1) {\n\t\t\tthrow new Error('Failed to insert');\n\t\t}\n\t\tif (this.data.includes(addItem)) {\n\t\t\tthis.data = this.data.filter((item) => item !== addItem);\n\t\t}\n\t\tthis.data.push(addItem);\n\t\tglobal.stringDBStore = this.data;\n\t\treturn addItem;\n\t}\n};\n",{"file":34,"filePath":532,"id":36,"content":533},[25,28,31,34],"import { t } from '$trpc/init';\nimport { z } from 'zod';\n\nimport db from './db';\n\nexport default t.router({\n\tdb,\n\twelcome: t.procedure.query(function ({ ctx }) {\n\t\treturn ctx.welcome;\n\t}),\n\twelcomeName: t.procedure.input(z.string().min(3)).query(async function ({ input: name }) {\n\t\tawait sleep(0.5, 2);\n\t\tif (name === 'error') {\n\t\t\tthrow t.error(`${name} is not a valid name`);\n\t\t}\n\t\treturn `Welcome ${name}`;\n\t})\n});\n\nexport function sleep(tMin: number, tMax?: number, inS: boolean = true) {\n\ttMin = tMin * (inS ? 1000 : 1);\n\ttMax = tMax ? tMax * (inS ? 1000 : 1) : undefined;\n\tconst ms =\n\t\ttMax !== undefined && tMax > tMin ? Math.floor(Math.random() * (tMax - tMin + 1)) + tMin : tMin;\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n",{"file":39,"filePath":535,"id":41,"content":414},[25,28,39],{"file":43,"filePath":537,"id":45,"content":112},[25,28,43],{"file":47,"filePath":539,"id":49,"content":50},[25,28,47],{"file":52,"filePath":541,"id":54,"content":366},[25,28,52],{"dir":31,"files":543},[544,565,571,577],{"dir":424,"files":545},[546,550,561],{"dir":427,"files":547},[548],{"file":179,"filePath":549,"id":431,"content":432},[25,31,424,427,179],{"dir":551,"files":552},"multiple",[553,557],{"file":373,"filePath":554,"id":555,"content":556},[25,31,424,551,373],"id-src-routes-store-multiple-page-server-ts-txt","import { serverClient } from '$trpc/serverClients';\nimport type { PageServerLoad } from './$types';\n\nexport const load = (async (event) => {\n\tconst client = await serverClient(event);\n\treturn {\n\t\tprefill: client.db.getList()\n\t};\n}) satisfies PageServerLoad;\n",{"file":179,"filePath":558,"id":559,"content":560},[25,31,424,551,179],"id-src-routes-store-multiple-page-svelte-txt","\u003Cscript lang=\"ts\">\n\timport type { PageData } from './$types';\n\timport { storeClient } from '$trpc/browserClients';\n\n\texport let data: PageData;\n\n\tlet list = storeClient.db.addToList.mutate.$multiple({\n\t\tloading: true,\n\t\tprefill: data.prefill,\n\t\tchangeTimer: 1000,\n\t\tuniqueResponse: 'replace',\n\t\tunique(input, data) {\n\t\t\treturn input ? input : data;\n\t\t}\n\t});\n\n\tlet itemInput: HTMLInputElement;\n\tfunction addItem() {\n\t\t$list.call(itemInput.value);\n\t\titemInput.value = '';\n\t}\n\u003C/script>\n\n{#if $list.loading}\n\t\u003Cspan style=\"font-weight:bold;font-size:1.2rem\">Loading items... \u003C/span>\u003Cbr />\n{/if}\n\n{#each $list.responses as response}\n\t{#if response.loading}\n\t\tAdding item...\n\t{:else if response.success}\n\t\t\u003Cspan class:changed={response.changed}>{response.data}\u003C/span>\n\t{:else if response.error}\n\t\t{response.error.message}\n\t{/if}\n\t\u003Cbr />\n{/each}\n\n\u003Cform on:submit|preventDefault={addItem}>\n\t\u003Cinput placeholder=\"Item\" bind:this={itemInput} />\n\u003C/form>\n\n\u003Cstyle>\n\tspan {\n\t\tcolor: black;\n\t\ttransition: color 1s linear;\n\t}\n\tspan.changed {\n\t\tcolor: red;\n\t\ttransition: color 1s linear;\n\t}\n\u003C/style>\n",{"dir":486,"files":562},[563],{"file":179,"filePath":564,"id":490,"content":491},[25,31,424,486,179],{"dir":370,"files":566},[567,569],{"file":373,"filePath":568,"id":375,"content":376},[25,31,370,373],{"file":179,"filePath":570,"id":379,"content":292},[25,31,370,179],{"dir":287,"files":572},[573,575],{"file":179,"filePath":574,"id":291,"content":292},[25,31,287,179],{"file":294,"filePath":576,"id":296,"content":297},[25,31,287,294],{"file":179,"filePath":578,"id":181,"content":246},[25,31,179],{"file":56,"filePath":580,"id":58,"content":119},[25,56],"/clients/store-client/$multiple",{"slug":453,"title":453},{"slug":188,"title":189},{"readme.md":585},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/03-$multiple/README.md",[587],{"dir":25,"files":588},[589,603,619],{"dir":28,"files":590},[591,595,597,599,601],{"dir":31,"files":592},[593],{"file":34,"filePath":594,"id":36,"content":79},[25,28,31,34],{"file":39,"filePath":596,"id":41,"content":414},[25,28,39],{"file":43,"filePath":598,"id":45,"content":112},[25,28,43],{"file":47,"filePath":600,"id":49,"content":50},[25,28,47],{"file":52,"filePath":602,"id":54,"content":366},[25,28,52],{"dir":31,"files":604},[605,611,617],{"dir":370,"files":606},[607,609],{"file":373,"filePath":608,"id":375,"content":376},[25,31,370,373],{"file":179,"filePath":610,"id":379,"content":292},[25,31,370,179],{"dir":287,"files":612},[613,615],{"file":179,"filePath":614,"id":291,"content":292},[25,31,287,179],{"file":294,"filePath":616,"id":296,"content":297},[25,31,287,294],{"file":179,"filePath":618,"id":181,"content":246},[25,31,179],{"file":56,"filePath":620,"id":58,"content":119},[25,56],"/clients/store-client",{"slug":342,"title":343},{},{"readme.md":625},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/04-store-client/README.md","/clients",{"slug":13,"title":14},{},{"readme.md":630},"/Users/yusafkhaliq/Packages/@sveltering/shtz-docs/static/md-docs/v0/03-clients/README.md",[214,393,449],{"title":633,"open":634},"$once store","src/routes/store/once/+page.svelte",[]],"uses":{"params":["paths"]}}]}
